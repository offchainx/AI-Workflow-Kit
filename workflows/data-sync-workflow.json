{
  "name": "å¤šå¹³å°æ•°æ®åŒæ­¥å·¥ä½œæµ",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 1
            }
          ]
        }
      },
      "name": "æ¯å°æ—¶è§¦å‘",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1,
      "position": [250, 350]
    },
    {
      "parameters": {
        "operation": "getAll",
        "table": "bookmarks",
        "returnAll": false,
        "limit": 100,
        "additionalFields": {
          "filters": "created_at.gte.{{ $today.minus({hours: 1}).toISO() }}"
        }
      },
      "name": "è·å–Supabaseæ–°æ•°æ®",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [450, 250],
      "credentials": {
        "supabaseApi": {
          "id": "3",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "operation": "search",
        "base": "YOUR_BASE_ID",
        "table": "Bookmarks",
        "options": {
          "filterByFormula": "CREATED_TIME() > DATEADD(NOW(), -1, 'hours')"
        }
      },
      "name": "è·å–Airtableæ–°æ•°æ®",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2,
      "position": [450, 450],
      "credentials": {
        "airtableTokenApi": {
          "id": "8",
          "name": "Airtable account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// åˆå¹¶Supabaseå’ŒAirtableæ•°æ®\nconst supabaseData = $node[\"è·å–Supabaseæ–°æ•°æ®\"].json || [];\nconst airtableData = $node[\"è·å–Airtableæ–°æ•°æ®\"].json || [];\n\n// è½¬æ¢Airtableæ ¼å¼\nconst airtableConverted = airtableData.map(item => ({\n  id: item.id,\n  title: item.fields.Title,\n  url: item.fields.URL,\n  tags: item.fields.Tags,\n  source: 'airtable',\n  created_at: item.fields['Created Time']\n}));\n\n// è½¬æ¢Supabaseæ ¼å¼\nconst supabaseConverted = supabaseData.map(item => ({\n  ...item,\n  source: 'supabase'\n}));\n\n// åˆå¹¶å¹¶å»é‡ï¼ˆåŸºäºURLï¼‰\nconst allData = [...supabaseConverted, ...airtableConverted];\nconst uniqueData = allData.reduce((acc, current) => {\n  const exists = acc.find(item => item.url === current.url);\n  if (!exists) {\n    acc.push(current);\n  }\n  return acc;\n}, []);\n\nreturn uniqueData.map(item => ({ json: item }));"
      },
      "name": "åˆå¹¶æ•°æ®",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [650, 350]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.source }}",
              "operation": "equals",
              "value2": "supabase"
            }
          ]
        }
      },
      "name": "æ•°æ®æ¥æºåˆ¤æ–­",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [850, 350]
    },
    {
      "parameters": {
        "operation": "create",
        "base": "YOUR_BASE_ID",
        "table": "Bookmarks",
        "columns": {
          "mappings": [
            {
              "field": "Title",
              "value": "={{ $json.title }}"
            },
            {
              "field": "URL",
              "value": "={{ $json.url }}"
            },
            {
              "field": "Tags",
              "value": "={{ $json.tags }}"
            },
            {
              "field": "Source",
              "value": "Supabase Sync"
            }
          ]
        }
      },
      "name": "åŒæ­¥åˆ°Airtable",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2,
      "position": [1050, 250],
      "credentials": {
        "airtableTokenApi": {
          "id": "8",
          "name": "Airtable account"
        }
      }
    },
    {
      "parameters": {
        "operation": "insert",
        "table": "bookmarks",
        "columns": "title,url,tags,source",
        "additionalFields": {}
      },
      "name": "åŒæ­¥åˆ°Supabase",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [1050, 450],
      "credentials": {
        "supabaseApi": {
          "id": "3",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.notion.com/v1/pages",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Notion-Version",
              "value": "2022-06-28"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "parent",
              "value": "={{ {\\\"database_id\\\": \\\"YOUR_NOTION_DATABASE_ID\\\"} }}"
            },
            {
              "name": "properties",
              "value": "={{ {\\\"Title\\\": {\\\"title\\\": [{\\\"text\\\": {\\\"content\\\": $json.title}}]}, \\\"URL\\\": {\\\"url\\\": $json.url}, \\\"Tags\\\": {\\\"multi_select\\\": $json.tags.map(t => ({\\\"name\\\": t}))}} }}"
            }
          ]
        }
      },
      "name": "åŒæ­¥åˆ°Notion",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [1250, 350],
      "credentials": {
        "notionApi": {
          "id": "9",
          "name": "Notion account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.github.com/repos/YOUR_USERNAME/bookmarks/issues",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "githubApi",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "body",
              "value": "={{ $json.url + '\\n\\n' + $json.tags.join(', ') }}"
            },
            {
              "name": "labels",
              "value": "={{ $json.tags }}"
            }
          ]
        }
      },
      "name": "å¤‡ä»½åˆ°GitHub",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [1450, 350],
      "credentials": {
        "githubApi": {
          "id": "10",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "operation": "insert",
        "table": "sync_log",
        "columns": "sync_time,records_synced,platforms,status",
        "additionalFields": {}
      },
      "name": "è®°å½•åŒæ­¥æ—¥å¿—",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [1650, 350],
      "credentials": {
        "supabaseApi": {
          "id": "3",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// ç»Ÿè®¡åŒæ­¥ç»“æœ\nconst totalRecords = $items().length;\nconst platforms = ['Supabase', 'Airtable', 'Notion', 'GitHub'];\n\nreturn {\n  json: {\n    sync_time: new Date().toISOString(),\n    records_synced: totalRecords,\n    platforms: platforms.join(', '),\n    status: 'success'\n  }\n};"
      },
      "name": "ç”ŸæˆåŒæ­¥æŠ¥å‘Š",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1450, 550]
    },
    {
      "parameters": {
        "chatId": "YOUR_CHAT_ID",
        "text": "=ğŸ“Š æ•°æ®åŒæ­¥å®Œæˆ\n\nåŒæ­¥æ—¶é—´: {{ $json.sync_time }}\nåŒæ­¥è®°å½•æ•°: {{ $json.records_synced }}\nåŒæ­¥å¹³å°: {{ $json.platforms }}\nçŠ¶æ€: âœ… {{ $json.status }}",
        "additionalFields": {}
      },
      "name": "å‘é€åŒæ­¥é€šçŸ¥",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [1650, 550],
      "credentials": {
        "telegramApi": {
          "id": "4",
          "name": "Telegram account"
        }
      }
    }
  ],
  "connections": {
    "æ¯å°æ—¶è§¦å‘": {
      "main": [
        [
          {
            "node": "è·å–Supabaseæ–°æ•°æ®",
            "type": "main",
            "index": 0
          },
          {
            "node": "è·å–Airtableæ–°æ•°æ®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è·å–Supabaseæ–°æ•°æ®": {
      "main": [
        [
          {
            "node": "åˆå¹¶æ•°æ®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è·å–Airtableæ–°æ•°æ®": {
      "main": [
        [
          {
            "node": "åˆå¹¶æ•°æ®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆå¹¶æ•°æ®": {
      "main": [
        [
          {
            "node": "æ•°æ®æ¥æºåˆ¤æ–­",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ•°æ®æ¥æºåˆ¤æ–­": {
      "main": [
        [
          {
            "node": "åŒæ­¥åˆ°Airtable",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "åŒæ­¥åˆ°Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åŒæ­¥åˆ°Airtable": {
      "main": [
        [
          {
            "node": "åŒæ­¥åˆ°Notion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åŒæ­¥åˆ°Supabase": {
      "main": [
        [
          {
            "node": "åŒæ­¥åˆ°Notion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åŒæ­¥åˆ°Notion": {
      "main": [
        [
          {
            "node": "å¤‡ä»½åˆ°GitHub",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å¤‡ä»½åˆ°GitHub": {
      "main": [
        [
          {
            "node": "è®°å½•åŒæ­¥æ—¥å¿—",
            "type": "main",
            "index": 0
          },
          {
            "node": "ç”ŸæˆåŒæ­¥æŠ¥å‘Š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”ŸæˆåŒæ­¥æŠ¥å‘Š": {
      "main": [
        [
          {
            "node": "å‘é€åŒæ­¥é€šçŸ¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "id": "5",
      "name": "æ•°æ®åŒæ­¥"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2025-10-24T00:00:00.000Z",
  "versionId": "1"
}
